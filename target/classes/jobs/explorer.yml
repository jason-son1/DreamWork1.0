# ============================================
# DreamWork - 탐험가 (Explorer) 직업 설정
# ============================================
# 지평선의 기록자 - 맵 탐사, 던전 발견, 좌표 판매, 배달

id: "explorer"
display_name: "탐험가"
description: "지평선의 기록자 - 맵 탐사, 던전 발견, 좌표 판매"
icon: "FILLED_MAP"
max_level: 100
exp_formula: "100 + (level * 20) + (level^2 * 4)"

# ============================================
# 스탯 보너스 (레벨당)
# ============================================
# Plan: 민첩 +0.3%, 낙하감소 +0.5%, 스태미나 +2
stats_per_level:
  DEX: 0.3    # 민첩 - 이동 속도
  CON: 0.1    # 체력 - 낙하 데미지 감소용
  INT: 0.2    # 지능 - 스태미나/쿨타임

# ============================================
# 경험치 획득처 (Plan 기준 XP/Money 테이블)
# ============================================
# | 대상             | 세부 조건       | 기본 경험치 | 기본 수입 (D) | 비고          |
# |------------------|-----------------|-------------|---------------|---------------|
# | 새로운 지역 발견 | 신규 청크 진입  | 5.0         | 2.0           |               |
# | 구조물 발견      | 마을, 유적 등   | 50.0        | 30.0          | 화면 타이틀   |
# | 이동 거리        | 100블록당       | 1.0         | 0.1           | 악용 방지     |
# | 몬스터 도감      | 새로운 몹 조우  | 10.0        | 5.0           |               |
# | 던전 지도 완성   | 지도 조각 합성  | 100.0       | 200.0         |               |
# | 특송 배달 완료   | 타운 퀘스트     | 30.0        | 150.0         | 거리 비례     |

triggers:
  # 새로운 청크/바이옴 발견
  discover_chunk:
    exp: 5.0
    money: 2.0
    
  discover_biome:
    exp: 25.0
    money: 15.0
    
  # 구조물 발견 (종류별)
  discover_structure:
    village:
      exp: 50.0
      money: 30.0
    pillager_outpost:
      exp: 50.0
      money: 30.0
    desert_pyramid:
      exp: 75.0
      money: 50.0
    jungle_pyramid:
      exp: 75.0
      money: 50.0
    igloo:
      exp: 40.0
      money: 25.0
    shipwreck:
      exp: 60.0
      money: 40.0
    ocean_ruins:
      exp: 50.0
      money: 35.0
    ocean_monument:
      exp: 150.0
      money: 100.0
    mansion:
      exp: 200.0
      money: 150.0
    stronghold:
      exp: 200.0
      money: 150.0
    ancient_city:
      exp: 300.0
      money: 200.0
    end_city:
      exp: 250.0
      money: 180.0
    nether_fortress:
      exp: 100.0
      money: 75.0
    bastion_remnant:
      exp: 150.0
      money: 100.0
    trail_ruins:
      exp: 100.0
      money: 80.0
      
  # 이동 거리 (100블록당)
  travel_distance:
    exp: 1.0
    money: 0.1
    interval: 100              # 100블록마다

  # 몬스터 도감 (새로운 몹 첫 조우)
  discover_mob:
    exp: 10.0
    money: 5.0
    
  # 배달 퀘스트 완료
  delivery_complete:
    base_exp: 30.0
    base_money: 150.0
    distance_bonus_exp: 0.01   # 블록당 추가 경험치
    distance_bonus_money: 0.05 # 블록당 추가 돈

# ============================================
# 레벨업 보상 (Plan 2.0 기준)
# ============================================
rewards:
  level_10:
    message: "&e[탐험가] &f견습 탐험가가 되었습니다! 험지 주파가 해금됩니다."
    stats:
      DEX: 5
      CON: 2
    skill_unlock: "pathfinder"
    mission_required: "discover_biome_10"
  
  level_30:
    message: "&e[탐험가] &f숙련 탐험가가 되었습니다! 육감이 해금됩니다."
    stats:
      DEX: 8
      CON: 5
      INT: 3
    skill_unlock: "sixth_sense"
    unlock: "coordinate_scroll"  # 좌표 스크롤 제작 권한
    mission_required: "discover_structure_10"

  level_50:
    message: "&e[탐험가] &f전문 탐험가가 되었습니다! 귀환석 레시피를 획득합니다."
    stats:
      DEX: 12
      CON: 8
      INT: 5
    unlock: "hearthstone"  # 귀환석 제작 레시피
    unlock: "biome_capsule"  # 바이옴 캡슐 권한
    mission_required: "first_discoverer_5"

  level_80:
    message: "&e[탐험가] &6모험왕&f 자격을 획득했습니다!"
    stats:
      DEX: 18
      CON: 12
      INT: 8
    money: 100000
    unlock: "courier_master"  # 특송 배달 마스터 권한
    mission_required: "delivery_complete_50"

  level_100:
    message: "&e[탐험가] &b§l지평선의 기록자&f 칭호를 획득했습니다!"
    stats:
      DEX: 25
      CON: 15
      INT: 10
    money: 500000
    unlock: "legendary_compass"  # 전설 나침반 '북극성'
    commands:
      - "lp user %player% parent add master_explorer"
    mission_required: "all_biomes_discovered"

# ============================================
# 스킬 목록 (Plan 2.0 기준)
# ============================================
skills:
  # [패시브] 험지 주파 (Pathfinder)
  # - 지형에 따라 이동 속도 증가
  # - 레벨에 따라 효과 강화
  pathfinder:
    name: "험지 주파"
    type: PASSIVE
    unlock_level: 10
    description: "지형에 따라 이동 속도가 증가합니다."
    scaling:
      "10-29":
        speed_bonus: 0.10       # 기본 10% 속도 증가
        terrain_bonus: 0.05     # 험지(모래/눈 등)에서 추가 5%
      "30-49":
        speed_bonus: 0.15
        terrain_bonus: 0.10
        fall_reduction: 0.20    # 낙하 피해 20% 감소
      "50-69":
        speed_bonus: 0.20
        terrain_bonus: 0.15
        fall_reduction: 0.35
      "70-89":
        speed_bonus: 0.25
        terrain_bonus: 0.20
        fall_reduction: 0.50
      "90+":
        speed_bonus: 0.30
        terrain_bonus: 0.25
        fall_reduction: 0.75
        water_speed: 0.50       # 수중 이동 속도 50% 증가

  # [패시브] 육감 (Sixth Sense)
  # - 근처 구조물/던전 감지
  # - 레벨에 따라 감지 범위 및 정확도 증가
  sixth_sense:
    name: "육감"
    type: PASSIVE
    unlock_level: 30
    description: "근처의 구조물과 던전을 감지합니다."
    check_interval_ticks: 400    # 20초마다 체크
    scaling:
      "30-49":
        radius: 50               # 50블록 반경
        show_direction: true     # 방향만 표시
      "50-69":
        radius: 100
        show_direction: true
        show_distance: true      # 거리도 표시
      "70-89":
        radius: 150
        show_direction: true
        show_distance: true
        show_type: true          # 구조물 종류 표시
      "90+":
        radius: 200
        show_all: true           # 모든 정보 표시
        treasure_sense: true     # 보물 상자도 감지

  # [아이템] 귀환석 (Hearthstone)
  # - 사용 시 지정된 위치로 텔레포트
  # - 재사용 대기 30분
  hearthstone:
    name: "귀환석"
    type: ITEM_ACTIVE
    unlock_level: 50
    description: "귀환석에 저장된 위치로 텔레포트합니다."
    item_id: "hearthstone"
    cooldown: 1800               # 30분 재사용 대기
    cast_time_seconds: 5         # 5초 캐스팅 (이동 시 취소)
    combat_block: true           # 전투 중 사용 불가
    
  # [아이템] 좌표 스크롤 (Coordinate Scroll)
  # - 특정 좌표를 기록하여 다른 플레이어에게 판매 가능
  coordinate_scroll:
    name: "좌표 스크롤"
    type: ITEM_ACTIVE
    unlock_level: 30
    description: "현재 위치를 기록한 스크롤을 생성합니다."
    item_id: "coordinate_scroll"
    cooldown: 60                 # 1분 재사용 대기
    tradeable: true              # 거래 가능
    shows_coordinates: true      # 좌표 표시

# ============================================
# 나침반 진화 시스템 (Plan 2.0 신규)
# ============================================
compass_evolution:
  enabled: true
  tiers:
    apprentice:
      name: "&7수습생의 나침반"
      level_required: 10
      base_material: COMPASS
      bonuses:
        structure_sense_range: 30
      pdc_data:
        tier: 1
    explorer:
      name: "&e탐험가의 나침반"
      level_required: 30
      base_material: COMPASS
      bonuses:
        structure_sense_range: 75
        waypoint_slots: 3
      pdc_data:
        tier: 2
    artisan:
      name: "&b장인의 나침반"
      level_required: 50
      base_material: COMPASS
      bonuses:
        structure_sense_range: 150
        waypoint_slots: 5
        shows_structure_type: true
      pdc_data:
        tier: 3
    legendary:
      name: "&6북극성"
      level_required: 100
      base_material: COMPASS
      mission_required: "all_biomes_discovered"
      bonuses:
        structure_sense_range: 300
        waypoint_slots: 10
        all_structures_visible: true
        treasure_radar: true
      pdc_data:
        tier: 4

# ============================================
# 아틀라스 기록 시스템 (Plan: The Atlas)
# ============================================
atlas_system:
  enabled: true
  
  # 최초 발견자 보너스
  first_finder:
    enabled: true
    multiplier: 3.0              # 경험치/돈 3배
    announcement: "&e[최초 발견] &f%player%님이 &6%structure%&f를 발견했습니다!"
    permanent_marker: true       # Dynmap 마커에 이름 영구 기록

  # 바이옴 탐험가 도전
  biome_explorer:
    enabled: true
    all_biomes_reward:
      title: "&b[바이옴 마스터]"
      money: 100000
      exp: 10000

# ============================================
# 스태미나 시스템 (Plan: Stamina for Parkour)
# ============================================
stamina:
  enabled: true
  base_max: 100
  per_level: 2                   # 레벨당 +2
  regen_rate: 5                  # 초당 5 회복
  regen_delay: 2000              # 사용 후 2초 딜레이

# ============================================
# 배달 퀘스트 시스템 (Plan: Courier Service)
# ============================================
delivery_quest:
  enabled: true
  
  # 퀘스트 생성 설정
  generation:
    interval: 300                # 5분마다 신규 퀘스트
    max_active: 5                # 동시 활성 최대 5개
    min_distance: 500            # 최소 500블록
    max_distance: 5000           # 최대 5000블록
    time_limit_per_block: 0.3    # 블록당 0.3초 제한시간

  # 보상 설정
  rewards:
    base_money: 150
    per_block_money: 0.05
    base_exp: 30.0
    per_block_exp: 0.01

  # 실패 패널티
  failure:
    item_loss: true              # 아이템 분실
    reputation_loss: 5           # 명성 -5

# ============================================
# 특수 아이템 설정
# ============================================
special_items:
  # 워프 스크롤 (좌표 저장 아이템)
  warp_scroll:
    enabled: true
    craft_recipe:
      - "PAPER:1"
      - "FEATHER:1"
      - "INK_SAC:1"              # 기록용 잉크
    required_level: 20
    single_use: true

  # 바이옴 캡슐
  biome_capsule:
    enabled: true
    required_level: 40
    effect: "타운 내 땅 색상을 해당 바이옴으로 변경"

  # 그래플링 훅
  grappling_hook:
    enabled: true
    required_level: 75
    cooldown: 10000              # 10초
    max_distance: 30
    craft_recipe:
      - "TRIPWIRE_HOOK:1"
      - "CHAIN:3"
      - "IRON_INGOT:2"

  # 여행자의 텐트
  portable_tent:
    enabled: true
    required_level: 60
    size: "3x3x3"
    includes:
      - BED
      - ENDER_CHEST
    mob_protection: true
    reusable: true
    durability: 50
