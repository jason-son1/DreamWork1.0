**Plan 2.0** 및 **농부 변경 개정안**을 기반으로, **자체 플러그인(DreamWork)** 개발 시 `config.yml` 설정과 `EventListener` 구현에 바로 적용할 수 있는 **[농부(Farmer) 상세 구현 테이블]**을 작성해 드립니다.

---
**해당 내용은 예시이며, 실제로 플러그인 제작시, 아래의 실제 값들과 내용 content들은 자유롭게 설정가능한 부분이어야 함.**
### 1. 경험치 및 보상 테이블 (Experience & Rewards)

**핵심 로직:** 단순 설치/파괴 반복(Exploit)을 막기 위해, 반드시 **'완전히 자란 작물(Fully Grown)'** 수확 시에만 보상을 지급합니다1.

|**대상 (Target Block)**|**등급 (Tier)**|**기본 경험치 (Exp)**|**기본 수입 (Money)**|**비고 (Implementation Note)**|
|---|---|---|---|---|
|**밀, 감자, 당근, 비트**|Tier 1|1.0|0.5|가장 기초적인 작물. `Ageable`의 Age가 Max인지 체크 필수.|
|**사탕수수, 선인장**|Tier 1.5|1.0|0.5|성장 속도가 빠름. 0칸(뿌리) 파괴 시 보상 없음 로직 추가.|
|**호박, 수박**|Tier 2|1.5|0.8|자동화 농장이 쉽지만 효율을 고려해 보상 소폭 상향2.|
|**네더와트, 코코아**|Tier 3|3.0|2.0|특정 환경 필요. 고수익 작물3.|
|**황금 작물 (Golden Crop)**|Special|50.0|100.0|**황금 씨앗**으로 재배. 수확 시 랜덤 대박 보상 지급4.|

- **품질 보너스:** 수확 시 확률적으로 **2성(★★)** 또는 **3성(★★★)** 작물이 드롭되며, 등급에 따라 경험치는 동일하나 판매가가 달라집니다5.
    

---

### 2. 스킬 상세 명세 (Skill Mechanics)

농부의 스킬은 '노동 시간 단축'과 '품질 향상'에 초점을 맞춥니다.

#### 2.1. [패시브] 녹색 손길 (Green Thumb)

- **기능:** 수확 시 인벤토리의 씨앗을 소모하여 즉시 재파종6.
    
- **구현 로직:** `BlockBreakEvent` 발생 → 작물 종류 확인 → 인벤토리 `Material.WHEAT_SEEDS` 체크 → 존재 시 `setType`으로 즉시 심기.
    

|**레벨 (Lv)**|**발동 확률**|**조건**|**비고**|
|---|---|---|---|
|**10 ~ 29**|50%|밀 1,000개 수확 미션 완료|확률 실패 시 직접 심어야 함77.<br><br>+1|
|**30 ~ Max**|100%|호박 500개 납품 미션 완료|100% 자동 재파종. 노동력 획기적 감소8.|

#### 2.2. [패시브] 대지의 기운 (Growth Aura)

- **기능:** 플레이어 주변 작물의 성장 속도(Random Tick) 가속9.
    
- **구현 로직:** `BukkitScheduler`로 10~20초마다 플레이어 주변 반경 $R$ 블록 스캔 → `Ageable` 작물 발견 시 확률적으로 `age + 1`.
    

|**레벨 (Lv)**|**효과 반경 (R)**|**성장 가속률**|**특수 효과**|
|---|---|---|---|
|**20 ~ 49**|반경 3블록|5% 증가|- 10|
|**50 ~ Max**|반경 5블록|10% 증가|- 11|
|**Max (Master)**|반경 7블록|20% 증가|주변 경작지가 밟혀도 흙으로 변하지 않음(수분 유지)12.|

#### 2.3. [아이템 액티브] 풍년의 의식 (Rite of Harvest)

- **아이템:** **풍요의 뿔피리** (Horn of Plenty)13.
    
- **사용법:** 작물 근처에서 `우클릭`.
    

|**아이템 등급**|**효과 범위**|**쿨타임/내구도**|**효과**|
|---|---|---|---|
|**하급 뿔피리**|3x3|소모성 (1회)|해당 범위 작물에 뼛가루(BoneMeal) 효과 1회 적용14.|
|**상급 뿔피리**|9x9|내구도 소모형|해당 범위 작물을 **즉시 최대 성장** 단계로 만듦15.|

---

### 3. 아이템 및 데이터 구조 (Items & PDC)

모든 농산물과 도구는 `PDC(PersistentDataContainer)`를 통해 등급과 기능이 부여됩니다.

#### 3.1. 괭이 진화 시스템 (Hoe Evolution)

- **기본 구조:** `Material.IRON_HOE` / `DIAMOND_HOE` + PDC Data.
    

|**등급**|**아이템 명**|**제작/해금 조건**|**PDC/Lore 특징**|**특수 능력**|
|---|---|---|---|---|
|**기본**|**초심자의 괭이**|기본 지급|`Tier: 0`|내구도 약간 증가16.|
|**숙련**|**개량된 괭이**|Lv.20 + 철|`Tier: 1`|**풍작(Bountiful):** 수확 시 10% 확률로 수확물 2배17.|
|**마스터**|**대지주의 괭이**|Lv.50 + 다이아|`Tier: 2`|**범위 수확:** 우클릭 시 3x3 범위 일괄 수확 및 경작1818.<br><br>+1|

#### 3.2. 특수 자원 및 비료 (Fertilizers & Special)

1. **작물 등급 (Crop Quality)**
    
    - **PDC Key:** `dreamwork:crop_quality` (Integer: 1, 2, 3)
        
    - **1성(★):** 일반 작물. 상점 판매용.
        
    - **2성(★★):** "싱싱한" 접두사. 판매가 1.5배19.
        
    - **3성(★★★):** "유기농/황금" 접두사. **판매 불가**. 오직 **요리/양조** 재료로 사용20.
        
2. **황금 씨앗 (Golden Seed)**
    
    - **획득:** 다 자란 작물 수확 시 극악의 확률(0.1% + Lv보정)로 드롭21.
        
    - **기능:** 심으면 **황금 작물**이 자라며, 수확 시 다이아몬드, 인챈트북 등 랜덤 보상 획득22.
        
3. **기능성 비료 (Fertilizers)**
    
    - **속성 비료(Quick-Gro):** 작물에 우클릭 시 10분간 성장 속도 2배23.
        
    - **품질 비료(Quality Compost):** 수확 시 2성 이상 작물 획득 확률 증가24.
        
    - **보습 비료(Hydro Gel):** 물 없는 곳 경작 가능 + 짓밟기 방지25.
        

---

### 4. 미션 및 승급 시스템 (Missions & Ranks)

|**랭크 (Title)**|**필요 레벨**|**승급 미션 (Objective)**|**해금 보상 (Reward)**|
|---|---|---|---|
|**견습 농부**|Lv. 10|**밀 1,000개 수확**|[패시브] 녹색 손길(50%), 샌드위치(Lv.10 요리) 레시피26262626.<br><br>+2|
|**숙련 농부**|Lv. 20|**2성 작물 100개 획득**|[도구] 개량된 괭이 제작법, [패시브] 대지의 기운(Lv.1).|
|**전문 농부**|Lv. 30|**호박 500개 납품**|[패시브] 녹색 손길(100%), 특수 비료 사용 권한27.|
|**농업 장인**|Lv. 50|**3성 작물 요리 50회**|[도구] 대지주의 괭이(범위 수확), 스테이크 정식(버프 요리) 레시피28282828.<br><br>+1|

---

### 5. 경제 및 타운 시스템 연동 (Economy & Processing)

농부는 1차 생산(작물)과 2차 가공(요리/술)을 통해 경제의 기반을 담당합니다.

#### 5.1. 요리 및 양조 (Cooking & Brewing)

- **3성 작물의 가치:** 상점에 팔 수 없으므로, 반드시 가공해야 합니다. 이는 **광부/사냥꾼** 유저와의 거래를 유도합니다29.
    
- **버프 요리 (Buff Food):**
    
    - **광부용 도시락:** 3성 감자 + 3성 당근 → 채광 속도(Haste) 증가 버프.
        
    - **사냥꾼의 정식:** 3성 고기 + 3성 밀 → 체력(Health Boost) 증가 버프30.
        
- **양조 (Brewing):**
    
    - 오크통(Barrel)에 밀(맥주), 포도(와인)를 넣고 **실제 시간**이 흐르면 PDC에 `aged_time`이 기록됨.
        
    - 숙성 시간이 길수록 타운 주점에서 비싸게 매입31.
        

#### 5.2. 경제 순환 모델 (The Loop)

1. **농부**는 야생/타운 밭에서 작물을 재배 (고레벨일수록 2~3성 확률 증가).
    
2. **1~2성 작물**은 타운의 `농산물 거래소`에 판매하여 기초 자금 마련32.
    
3. **3성 작물**은 `주방`에서 **버프 요리**로 가공하여 **광부(Miner)**와 **사냥꾼(Hunter)**에게 유저 간 거래로 판매33.
    
4. 숙성된 **술**은 주점에 납품하여 고수익 창출.
    

---

### 💡 개발자(User)를 위한 구현 팁 (Technical Note)

1. **Event Listener:**
    
    - `BlockBreakEvent`:
        
        - `block.getBlockData() instanceof Ageable` 확인.
            
        - `ageable.getAge() == ageable.getMaximumAge()` 확인 (필수: 악용 방지)34.
            
        - PDC 아이템(황금 씨앗, 2~3성 작물) 드롭 로직 (`world.dropItemNaturally`).
            
        - [녹색 손길] 발동 시 인벤토리 `Material.SEEDS` 차감 후 `block.setType(Material.WHEAT)` 처리.
            
    - `PlayerInteractEvent`:
        
        - 비료(`Right_Click_Block`) 및 풍요의 뿔피리 사용 감지.
            
2. **Config 구성 (`jobs/farmer.yml`):**
    
    YAML
    
    ```
    green-thumb:
      unlock-level: 10
      chance: 50.0
      conditions: ["mission:harvest_wheat_1000"]
    
    items:
      golden-seed:
        base-chance: 0.1 # 0.1% 확률
        drop-from: [WHEAT, CARROT, POTATO]
      quality_crops:
        tier-2-chance: 15.0 # 2성 작물 등장 확률
        tier-3-chance: 5.0  # 3성 작물 등장 확률
    ```
    
    - 모든 확률과 조건은 하드코딩하지 않고 YAML로 관리합니다35.
        
3. **PDC Data Handling:**
    
    - 작물 아이템 생성 시:
        
        Java
        
        ```
        // 예시 코드 (Pseudo)
        ItemStack crop = new ItemStack(Material.POTATO);
        ItemMeta meta = crop.getItemMeta();
        meta.getPersistentDataContainer().set(new NamespacedKey(plugin, "quality"), PersistentDataType.INTEGER, 3);
        meta.setDisplayName("§6★★★ 황금 감자");
        crop.setItemMeta(meta);
        ```
        
    - 이 방식을 통해 별도의 모드 없이 바닐라 클라이언트에서도 등급 시스템이 작동합니다36363636.
        
        +1